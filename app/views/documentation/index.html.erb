<% content_for :breadcrumb do %>
  <li class="breadcrumb-item"><%= link_to "Home", root_path %></li>
  <li class="breadcrumb-item active">Documentation</li>
<% end %>

<div class="jumbotron jumbotron-fluid">
  <div class="container">
    <h1 class="display-4">Building your first form</h1>
    <p class="lead">How to build your Rails application with Simple Form and Bootstrap</p>
    <hr class="my-4">
    <p>Configuring your Rails app with Simple Form and Bootstrap:</p>

    <ol>
      <li>Create your new Rails application: <code>rails new my_new_app</code></li>
      <li>Open the generated Gemfile and add the Simple Form dependency: <code>gem 'simple_form'</code></li>
      <li>Install the dependencies: <code>bundle install</code></li>
      <li>Install the Simple Form, using the --bootstrap option: <code>rails generate simple_form:install --bootstrap</code></li>
      <li>Now you have a new Rails application using Simple Form and configured to use Bootstrap</li>
    </ol>
  </div>
</div>

<div class="container">
  <div class="row justify-content-center">
    <div class="col-12 col-md-10 col-lg-8">
      <h4>Example</h4>

      <p>Lets build the following form.</p>

      <div class="row justify-content-center mb-3">
        <div class="card mb-4">
          <div class="card-body">
            <%= render partial: "examples/verticals/form" %>
          </div>
        </div>
      </div>

      <p>The code is straightforward and looks like this:</p>
      <%= render_source File.read(File.join(Rails.root, 'app/views/examples/verticals/_form.html.erb')) %>
      <hr />

      <p>The code is very simple, isn't it?</p>

      <p>
        But it can get better! We can use the <code>wrapper_mapping</code> option
        to remove that wrapper duplication. This option receives a Hash containing an input
        type and the wrapper that will be used for all inputs with specified type.
      </p>

      <p>
        Example:
        <%= render_source render(partial: "wrapper_mapping"), :json %>
        <hr />

        All the String inputs will now use the <code>:string_wrapper</code>, and the
        same applies to boolean fields, which will use the <code>:boolean_wrapper</code>
        for all its inputs.
        You can see more information about wrapper_mappings
        <%= link_to "here.", "https://github.com/heartcombo/simple_form/blob/master/lib/simple_form.rb#L133-L139" %>
      </p>

      <%= render_source File.read(File.join(Rails.root, 'app/views/documentation/_form_wrapper_mappings.html.erb')) %>
      <hr />

      <p>
        Simple, right? You can see the code for the other examples
        <%= link_to "on GitHub.", "https://github.com/rafaelfranca/simple_form-bootstrap" %>
      </p>

      <hr class="my-5" />

      <h2>Styling</h2>
      <p>
        To perfectly match bootstrap output these additional styles are suggested.<br />
        Load simple_form helpers in e.g. <code>application.scss</code>.
      </p>
      <% file_path = 'app/assets/stylesheets/application.scss' %>
      <%= render_source File.read(File.join(Rails.root, file_path)), :scss, file_path %>

      <% file_path = 'app/assets/stylesheets/simple_form-bootstrap/_simple_form-bootstrap.scss' %>
      <%= render_source File.read(File.join(Rails.root, file_path)), :scss, file_path %>

      <% file_path = 'app/assets/stylesheets/simple_form-bootstrap/_form_abbr.scss' %>
      <%= render_source File.read(File.join(Rails.root, file_path)), :scss, file_path %>

      <% file_path = 'app/assets/stylesheets/simple_form-bootstrap/_form_button.scss' %>
      <%= render_source File.read(File.join(Rails.root, file_path)), :scss, file_path %>

      <% file_path = 'app/assets/stylesheets/simple_form-bootstrap/_form_collection_label.scss' %>
      <%= render_source File.read(File.join(Rails.root, file_path)), :scss, file_path %>

      <% file_path = 'app/assets/stylesheets/simple_form-bootstrap/_form_floating_labels.scss' %>
      <%= render_source File.read(File.join(Rails.root, file_path)), :scss, file_path %>

      <% file_path = 'app/assets/stylesheets/simple_form-bootstrap/_form_multi_select.scss' %>
      <%= render_source File.read(File.join(Rails.root, file_path)), :scss, file_path %>
    </div>
  </div>
</div>
